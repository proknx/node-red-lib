[
    {
        "id": "49a4c30c.0f12f4",
        "type": "tab",
        "label": "Emergency work-around v4.5 & older",
        "disabled": false,
        "info": ""
    },
    {
        "id": "2b2bda4a.df6396",
        "type": "inject",
        "z": "49a4c30c.0f12f4",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 75,
        "y": 4340,
        "wires": [
            [
                "82917e9c.48bbc"
            ]
        ],
        "l": false
    },
    {
        "id": "82917e9c.48bbc",
        "type": "delay",
        "z": "49a4c30c.0f12f4",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "hour",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "x": 200,
        "y": 4340,
        "wires": [
            [
                "fcb1764c.86ef38"
            ]
        ]
    },
    {
        "id": "5861b5e4.5e29dc",
        "type": "comment",
        "z": "49a4c30c.0f12f4",
        "name": "Only run this flow once",
        "info": "",
        "x": 160,
        "y": 4300,
        "wires": []
    },
    {
        "id": "fcb1764c.86ef38",
        "type": "exec",
        "z": "49a4c30c.0f12f4",
        "command": "rm",
        "addpay": false,
        "append": "-f  /opt/realknx/logs/realknx.stdout",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "",
        "x": 90,
        "y": 4455,
        "wires": [
            [
                "1a1c38a.d24dfc7"
            ],
            [
                "730ac097.67aff"
            ],
            [
                "fc8e14b0.c07c78",
                "c5e15d6e.ceed1"
            ]
        ],
        "l": false
    },
    {
        "id": "fc8e14b0.c07c78",
        "type": "exec",
        "z": "49a4c30c.0f12f4",
        "command": "iptables",
        "addpay": false,
        "append": "-A OUTPUT -p icmp --icmp-type echo-request -j DROP",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "",
        "x": 195,
        "y": 4455,
        "wires": [
            [
                "97087844.307578"
            ],
            [
                "89c4c5b6.d1cec8"
            ],
            [
                "b14cb15f.4ebb2",
                "a4c8b1ef.950a3"
            ]
        ],
        "l": false
    },
    {
        "id": "39c64274.b87b0e",
        "type": "exec",
        "z": "49a4c30c.0f12f4",
        "command": "reboot",
        "addpay": false,
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "",
        "x": 605,
        "y": 4455,
        "wires": [
            [
                "580554c1.c2732c"
            ],
            [
                "7e0f4f2f.0facb"
            ],
            [
                "2d5b3e17.751282"
            ]
        ],
        "l": false
    },
    {
        "id": "1a1c38a.d24dfc7",
        "type": "debug",
        "z": "49a4c30c.0f12f4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 150,
        "y": 4525,
        "wires": [],
        "l": false
    },
    {
        "id": "730ac097.67aff",
        "type": "debug",
        "z": "49a4c30c.0f12f4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 150,
        "y": 4565,
        "wires": [],
        "l": false
    },
    {
        "id": "c5e15d6e.ceed1",
        "type": "debug",
        "z": "49a4c30c.0f12f4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 150,
        "y": 4605,
        "wires": [],
        "l": false
    },
    {
        "id": "97087844.307578",
        "type": "debug",
        "z": "49a4c30c.0f12f4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 245,
        "y": 4525,
        "wires": [],
        "l": false
    },
    {
        "id": "89c4c5b6.d1cec8",
        "type": "debug",
        "z": "49a4c30c.0f12f4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 245,
        "y": 4565,
        "wires": [],
        "l": false
    },
    {
        "id": "b14cb15f.4ebb2",
        "type": "debug",
        "z": "49a4c30c.0f12f4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 245,
        "y": 4605,
        "wires": [],
        "l": false
    },
    {
        "id": "580554c1.c2732c",
        "type": "debug",
        "z": "49a4c30c.0f12f4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 675,
        "y": 4520,
        "wires": [],
        "l": false
    },
    {
        "id": "7e0f4f2f.0facb",
        "type": "debug",
        "z": "49a4c30c.0f12f4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 675,
        "y": 4560,
        "wires": [],
        "l": false
    },
    {
        "id": "2d5b3e17.751282",
        "type": "debug",
        "z": "49a4c30c.0f12f4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 675,
        "y": 4600,
        "wires": [],
        "l": false
    },
    {
        "id": "a4c8b1ef.950a3",
        "type": "exec",
        "z": "49a4c30c.0f12f4",
        "command": "echo",
        "addpay": false,
        "append": " iptables-persistent iptables-persistent/autosave_v4 boolean true | sudo debconf-set-selections",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "",
        "x": 305,
        "y": 4455,
        "wires": [
            [
                "f8aac4e2.797528"
            ],
            [
                "9c55e580.d32718"
            ],
            [
                "4d071054.a2ffc",
                "a1de643.3a97698"
            ]
        ],
        "l": false
    },
    {
        "id": "f8aac4e2.797528",
        "type": "debug",
        "z": "49a4c30c.0f12f4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 355,
        "y": 4525,
        "wires": [],
        "l": false
    },
    {
        "id": "9c55e580.d32718",
        "type": "debug",
        "z": "49a4c30c.0f12f4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 355,
        "y": 4565,
        "wires": [],
        "l": false
    },
    {
        "id": "4d071054.a2ffc",
        "type": "debug",
        "z": "49a4c30c.0f12f4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 355,
        "y": 4605,
        "wires": [],
        "l": false
    },
    {
        "id": "a70dd8ed.177d28",
        "type": "exec",
        "z": "49a4c30c.0f12f4",
        "command": "apt-get",
        "addpay": false,
        "append": "install -y iptables-persistent",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "",
        "x": 485,
        "y": 4455,
        "wires": [
            [
                "a1612497.35d0d8"
            ],
            [
                "34fb9e65.f9c662"
            ],
            [
                "1fc43715.9dca09",
                "39c64274.b87b0e"
            ]
        ],
        "l": false
    },
    {
        "id": "a1612497.35d0d8",
        "type": "debug",
        "z": "49a4c30c.0f12f4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 565,
        "y": 4515,
        "wires": [],
        "l": false
    },
    {
        "id": "34fb9e65.f9c662",
        "type": "debug",
        "z": "49a4c30c.0f12f4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 565,
        "y": 4555,
        "wires": [],
        "l": false
    },
    {
        "id": "1fc43715.9dca09",
        "type": "debug",
        "z": "49a4c30c.0f12f4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 565,
        "y": 4595,
        "wires": [],
        "l": false
    },
    {
        "id": "a1de643.3a97698",
        "type": "exec",
        "z": "49a4c30c.0f12f4",
        "command": "echo",
        "addpay": false,
        "append": "iptables-persistent iptables-persistent/autosave_v6 boolean true | sudo debconf-set-selections",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "",
        "x": 395,
        "y": 4455,
        "wires": [
            [
                "79ba94d9.4ce42c"
            ],
            [
                "997dd9d6.1ba728"
            ],
            [
                "3edcc9bc.f90d16",
                "a70dd8ed.177d28"
            ]
        ],
        "l": false
    },
    {
        "id": "79ba94d9.4ce42c",
        "type": "debug",
        "z": "49a4c30c.0f12f4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 445,
        "y": 4525,
        "wires": [],
        "l": false
    },
    {
        "id": "997dd9d6.1ba728",
        "type": "debug",
        "z": "49a4c30c.0f12f4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 445,
        "y": 4565,
        "wires": [],
        "l": false
    },
    {
        "id": "3edcc9bc.f90d16",
        "type": "debug",
        "z": "49a4c30c.0f12f4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 445,
        "y": 4605,
        "wires": [],
        "l": false
    },
    {
        "id": "e905153.53956e8",
        "type": "comment",
        "z": "49a4c30c.0f12f4",
        "name": "Documentation ",
        "info": "v.2021-22-14 Added restore flow\nv.2021-22-12 Added\n\nThis flow will disable outgoing ping. This will prevent realKNX from the access of public IP service, which fails and prevents the system from starting.\nThis should solve the issue on all systems, but if you have realKNX 4.6 it is preferred to update the system.\nThis flow has been tested \n* Aragon WL\n\n**When/if the system has been updated to realKNX v4.6.60+**\nyou can remove the fix with the 2nd lower flow",
        "x": 390,
        "y": 4300,
        "wires": []
    },
    {
        "id": "3ebc1e1e.a28182",
        "type": "comment",
        "z": "49a4c30c.0f12f4",
        "name": "Note: the system will Reboot here",
        "info": "",
        "x": 670,
        "y": 4410,
        "wires": []
    },
    {
        "id": "a3544d27.4ce09",
        "type": "inject",
        "z": "49a4c30c.0f12f4",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 75,
        "y": 4715,
        "wires": [
            [
                "166ce917.f37cf7"
            ]
        ],
        "l": false
    },
    {
        "id": "166ce917.f37cf7",
        "type": "delay",
        "z": "49a4c30c.0f12f4",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "hour",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "x": 200,
        "y": 4715,
        "wires": [
            [
                "33eaa70e.70c898"
            ]
        ]
    },
    {
        "id": "33eaa70e.70c898",
        "type": "exec",
        "z": "49a4c30c.0f12f4",
        "command": "iptables",
        "addpay": false,
        "append": "-D OUTPUT -p icmp --icmp-type echo-request -j DROP",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "",
        "x": 195,
        "y": 4830,
        "wires": [
            [
                "88664304.3bfbb"
            ],
            [
                "c9e178f8.098458"
            ],
            [
                "f804f773.0fd3e8",
                "ad246d0c.29218"
            ]
        ],
        "l": false
    },
    {
        "id": "3a6ed040.96ab",
        "type": "exec",
        "z": "49a4c30c.0f12f4",
        "command": "reboot",
        "addpay": false,
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "",
        "x": 605,
        "y": 4830,
        "wires": [
            [
                "acb1853a.fb7358"
            ],
            [
                "1cd19891.acafb7"
            ],
            [
                "341ec309.c8ee5c"
            ]
        ],
        "l": false
    },
    {
        "id": "88664304.3bfbb",
        "type": "debug",
        "z": "49a4c30c.0f12f4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 245,
        "y": 4900,
        "wires": [],
        "l": false
    },
    {
        "id": "c9e178f8.098458",
        "type": "debug",
        "z": "49a4c30c.0f12f4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 245,
        "y": 4940,
        "wires": [],
        "l": false
    },
    {
        "id": "f804f773.0fd3e8",
        "type": "debug",
        "z": "49a4c30c.0f12f4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 245,
        "y": 4980,
        "wires": [],
        "l": false
    },
    {
        "id": "acb1853a.fb7358",
        "type": "debug",
        "z": "49a4c30c.0f12f4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 675,
        "y": 4895,
        "wires": [],
        "l": false
    },
    {
        "id": "1cd19891.acafb7",
        "type": "debug",
        "z": "49a4c30c.0f12f4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 675,
        "y": 4935,
        "wires": [],
        "l": false
    },
    {
        "id": "341ec309.c8ee5c",
        "type": "debug",
        "z": "49a4c30c.0f12f4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 675,
        "y": 4975,
        "wires": [],
        "l": false
    },
    {
        "id": "ad246d0c.29218",
        "type": "exec",
        "z": "49a4c30c.0f12f4",
        "command": "apt-get",
        "addpay": false,
        "append": "purge -y iptables-persistent",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "",
        "x": 485,
        "y": 4830,
        "wires": [
            [
                "870b663c.dbfda8"
            ],
            [
                "4e1e94c9.14f6fc"
            ],
            [
                "3ad1d1e8.4dbd3e",
                "3a6ed040.96ab"
            ]
        ],
        "l": false
    },
    {
        "id": "870b663c.dbfda8",
        "type": "debug",
        "z": "49a4c30c.0f12f4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 565,
        "y": 4890,
        "wires": [],
        "l": false
    },
    {
        "id": "4e1e94c9.14f6fc",
        "type": "debug",
        "z": "49a4c30c.0f12f4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 565,
        "y": 4930,
        "wires": [],
        "l": false
    },
    {
        "id": "3ad1d1e8.4dbd3e",
        "type": "debug",
        "z": "49a4c30c.0f12f4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 565,
        "y": 4970,
        "wires": [],
        "l": false
    },
    {
        "id": "b4619981.a96be8",
        "type": "comment",
        "z": "49a4c30c.0f12f4",
        "name": "Note: the system will Reboot here",
        "info": "",
        "x": 670,
        "y": 4785,
        "wires": []
    },
    {
        "id": "40a9d99c.f30338",
        "type": "comment",
        "z": "49a4c30c.0f12f4",
        "name": "↓ TO RESTORE/REMOVE THE FIX ↓ Only run this flow once ",
        "info": "",
        "x": 285,
        "y": 4675,
        "wires": []
    },
    {
        "id": "b946f95e.e3ba28",
        "type": "inject",
        "z": "49a4c30c.0f12f4",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 95,
        "y": 80,
        "wires": [
            [
                "b5561ab5.ad28c8"
            ]
        ],
        "l": false
    },
    {
        "id": "b5561ab5.ad28c8",
        "type": "delay",
        "z": "49a4c30c.0f12f4",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "hour",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "x": 220,
        "y": 80,
        "wires": [
            [
                "c8fada1.db57c28"
            ]
        ]
    },
    {
        "id": "69aa2acc.0bf3d4",
        "type": "comment",
        "z": "49a4c30c.0f12f4",
        "name": "Only run this flow once",
        "info": "",
        "x": 180,
        "y": 40,
        "wires": []
    },
    {
        "id": "c8fada1.db57c28",
        "type": "exec",
        "z": "49a4c30c.0f12f4",
        "command": "rm",
        "addpay": false,
        "append": "-f  /opt/realknx/logs/realknx.stdout",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "",
        "x": 110,
        "y": 195,
        "wires": [
            [
                "72f7faa7.33d0b4",
                "468e68fa.6ca0f8"
            ],
            [
                "638ec0c.21fd84"
            ],
            [
                "11433ccc.06dcc3"
            ]
        ],
        "l": false
    },
    {
        "id": "72f7faa7.33d0b4",
        "type": "debug",
        "z": "49a4c30c.0f12f4",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 170,
        "y": 265,
        "wires": [],
        "l": false
    },
    {
        "id": "638ec0c.21fd84",
        "type": "debug",
        "z": "49a4c30c.0f12f4",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 170,
        "y": 305,
        "wires": [],
        "l": false
    },
    {
        "id": "11433ccc.06dcc3",
        "type": "debug",
        "z": "49a4c30c.0f12f4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 170,
        "y": 345,
        "wires": [],
        "l": false
    },
    {
        "id": "701f0c7.f7680f4",
        "type": "comment",
        "z": "49a4c30c.0f12f4",
        "name": "Documentation",
        "info": "v.2021-11-16 (Version 2):\n    - Version 1 is at the bottom of the flow\n    - Version 2: add the prevention code directly to the start-realknx bash script. \n    The prevention code does:\n        1) Search for \"Drop icmp\" line in iptables file\n        2) Add the \"Drop icmp\" line if it is not in the iptables file\n        3) Test a ping to google.com and save the result in log file (for debug)\n    \nv.2021-22-14 Added restore flow\nv.2021-22-12 Added\n\nThis flow will disable outgoing ping. This will prevent realKNX from the access of public IP service, which fails and prevents the system from starting.\nThis should solve the issue on all systems, but if you have realKNX 4.6 it is preferred to update the system.\nThis flow has been tested \n* Aragon WL\n\n**When/if the system has been updated to realKNX v4.6.60+**\nyou can remove the fix with the 2nd lower flow",
        "x": 410,
        "y": 40,
        "wires": []
    },
    {
        "id": "48d3ffbc.1a988",
        "type": "exec",
        "z": "49a4c30c.0f12f4",
        "command": "reboot",
        "addpay": false,
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "",
        "x": 395,
        "y": 200,
        "wires": [
            [
                "490f22e3.99af9c"
            ],
            [
                "da60f9b7.9de728"
            ],
            [
                "418f03a6.7f93dc"
            ]
        ],
        "l": false
    },
    {
        "id": "490f22e3.99af9c",
        "type": "debug",
        "z": "49a4c30c.0f12f4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 475,
        "y": 220,
        "wires": [],
        "l": false
    },
    {
        "id": "da60f9b7.9de728",
        "type": "debug",
        "z": "49a4c30c.0f12f4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 475,
        "y": 260,
        "wires": [],
        "l": false
    },
    {
        "id": "418f03a6.7f93dc",
        "type": "debug",
        "z": "49a4c30c.0f12f4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 475,
        "y": 300,
        "wires": [],
        "l": false
    },
    {
        "id": "4af61fa2.e85a8",
        "type": "comment",
        "z": "49a4c30c.0f12f4",
        "name": "Note: the system will Reboot here",
        "info": "",
        "x": 510,
        "y": 140,
        "wires": []
    },
    {
        "id": "13444b76.031255",
        "type": "split",
        "z": "49a4c30c.0f12f4",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 275,
        "y": 200,
        "wires": [
            [
                "3f7f6089.55a7"
            ]
        ],
        "l": false
    },
    {
        "id": "468e68fa.6ca0f8",
        "type": "template",
        "z": "49a4c30c.0f12f4",
        "name": "Prevention code",
        "field": "payload",
        "fieldType": "msg",
        "format": "text",
        "syntax": "plain",
        "template": "\n# Check if \"DROP icmp\" line exists in iptables\n# if not it will be added to prevent outgoing ping\nmatch=$(sudo iptables -L | egrep \"(DROP.*icmp)\")\n\nif [ -z \"$match\" ]\nthen\n\techo \"There is no DROP icmp, adding it...\" >> logs/realknx.stdout\n\tsudo iptables -A OUTPUT -p icmp --icmp-type echo-request -j DROP\n\tsleep 1\nelse\n\techo \"There is a DROP icmp\" >> logs/realknx.stdout\nfi\n\nsudo ping -c1 google.com >> logs/realknx.stdout",
        "output": "str",
        "x": 215,
        "y": 200,
        "wires": [
            [
                "13444b76.031255"
            ]
        ],
        "l": false
    },
    {
        "id": "3f7f6089.55a7",
        "type": "file",
        "z": "49a4c30c.0f12f4",
        "name": "Add code to start-realknx.sh",
        "filename": "/opt/realknx/start-realknx.sh",
        "appendNewline": true,
        "createDir": false,
        "overwriteFile": "false",
        "encoding": "none",
        "x": 335,
        "y": 200,
        "wires": [
            [
                "48d3ffbc.1a988"
            ]
        ],
        "l": false
    }
]